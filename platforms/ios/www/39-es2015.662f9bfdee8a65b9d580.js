(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{NidS:function(o,t,i){"use strict";i.r(t),i.d(t,"MetodopagoPageModule",(function(){return g}));var n=i("ofXK"),e=i("3Pt+"),r=i("TEn/"),c=i("tyNb"),a=i("fXoL"),s=i("CmMg");const l=[{path:"",component:(()=>{class o{constructor(o,t,i,n,e){this.router=o,this.navCtrl=t,this.route=i,this.location=n,this.apiService=e,this.carrito=[],this.route.queryParams.subscribe(o=>{this.router.getCurrentNavigation().extras.state&&(this.carrito=this.router.getCurrentNavigation().extras.state.carrito,this.total=this.router.getCurrentNavigation().extras.state.total,this.establecimientosCoincidencia=this.router.getCurrentNavigation().extras.state.establecimientosCoincidencia,console.log(this.carrito),console.log(this.total),console.log(this.establecimientosCoincidencia))})}ionViewDidEnter(){let o=0;console.log(this.carrito);for(let t of this.carrito.bebidas)console.log("t"+t.preciobebidasocio),o+=t.preciobebidasocio;this.t=o,console.log("CANTIDAD SUMADA"),console.log(o)}regresar(){this.location.back()}pagoTarjetas(){console.log("t"+this.t),console.log("coincidencias tiendas"),console.log(this.establecimientosCoincidencia);let o=0;for(let i of this.establecimientosCoincidencia)i.idsociocomercial!=this.carrito.bebidas[0].idsociocomercial&&(console.log(i),console.log(i.total),o+=Math.abs(i.total-this.t));console.log("prom"+o);var t=o/this.establecimientosCoincidencia.length-1;t<0&&(t=0),console.log("ahorro"+t),this.apiService.setStorage("ahorro",t.toFixed(2)),this.router.navigate(["tarjetas"],{state:{carrito:this.carrito,total:this.total,establecimientosCoincidencia:this.establecimientosCoincidencia}})}}return o.\u0275fac=function(t){return new(t||o)(a.Ib(c.g),a.Ib(r.lb),a.Ib(c.a),a.Ib(n.g),a.Ib(s.a))},o.\u0275cmp=a.Cb({type:o,selectors:[["app-metodopago"]],decls:23,vars:1,consts:[["fill","clear","slot","start",3,"click"],["name","arrow-back",2,"zoom","1.3","color","#ffff"],["slot","end"],["expand","block","mode","ios",1,"btn-metodos",2,"margin-top","30px",3,"click"],["name","chevron-forward-outline",1,"icono-superiores"],["expand","block","mode","ios",1,"btn-metodos",2,"margin-top","20px"],["fill","clear","id","btn-anterior",3,"click"],["name","chevron-back-outline",1,"icono-inferiores"],["fill","clear","id","btn-siguiente","disabled",""],["name","chevron-forward-outline",1,"icono-inferiores"]],template:function(o,t){1&o&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-button",0),a.Ub("click",(function(){return t.regresar()})),a.Jb(3,"ion-icon",1),a.Lb(),a.Mb(4,"ion-title"),a.uc(5,"M\xe9todo de pago"),a.Lb(),a.Mb(6,"ion-label",2),a.uc(7),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"ion-content"),a.Mb(9,"h3"),a.uc(10,"Selecciona un m\xe9todo de pago"),a.Lb(),a.Mb(11,"ion-button",3),a.Ub("click",(function(){return t.pagoTarjetas()})),a.uc(12,"Tarjeta de d\xe9bito o cr\xe9dito"),a.Jb(13,"ion-icon",4),a.Lb(),a.Mb(14,"ion-button",5),a.uc(15,"Pago Efectivo"),a.Jb(16,"ion-icon",4),a.Lb(),a.Mb(17,"ion-button",6),a.Ub("click",(function(){return t.regresar()})),a.Jb(18,"ion-icon",7),a.uc(19,"Anterior"),a.Lb(),a.Mb(20,"ion-button",8),a.uc(21,"Siguiente"),a.Jb(22,"ion-icon",9),a.Lb(),a.Lb()),2&o&&(a.yb(7),a.wc("S/ ",t.total,""))},directives:[r.v,r.fb,r.h,r.w,r.eb,r.G,r.q],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#108b3c}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:#fff;font-family:Gotham-Medium;font-size:23px}ion-toolbar[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff;font-family:SFCompactText-Medium;font-size:20px;margin-right:10px}ion-content[_ngcontent-%COMP%]{--background:#121212}h3[_ngcontent-%COMP%]{color:#f3f2ed;align-content:center;text-align:center;align-items:center;margin-top:30px;font-family:Gotham-Medium}.btn-metodos[_ngcontent-%COMP%]{--background:#fff;--color:#333;height:50px;--border-radius:10px;margin-left:30px;margin-right:30px;font-size:16px;font-weight:700}#btn-anterior[_ngcontent-%COMP%]{left:0}#btn-anterior[_ngcontent-%COMP%], #btn-siguiente[_ngcontent-%COMP%]{--color:#fff;font-family:SFCompactText-Medium;font-size:20px;position:absolute;bottom:20px;height:50px}#btn-siguiente[_ngcontent-%COMP%]{right:0}.iconos-inferiores[_ngcontent-%COMP%]{color:#f3f2ed}.icono-superiores[_ngcontent-%COMP%]{position:absolute;right:1px;color:#000}"]}),o})()}];let b=(()=>{class o{}return o.\u0275mod=a.Gb({type:o}),o.\u0275inj=a.Fb({factory:function(t){return new(t||o)},imports:[[c.i.forChild(l)],c.i]}),o})(),g=(()=>{class o{}return o.\u0275mod=a.Gb({type:o}),o.\u0275inj=a.Fb({factory:function(t){return new(t||o)},imports:[[n.c,e.d,r.gb,b]]}),o})()}}]);