!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{vjaW:function(t,o,i){"use strict";i.r(o),i.d(o,"RegistroDatosPageModule",(function(){return m}));var r,a,s=i("ofXK"),c=i("3Pt+"),l=i("TEn/"),u=i("tyNb"),b=i("mrSG"),g=i("fXoL"),d=i("8BtL"),h=i("Q4mC"),p=i("CmMg"),f=[{path:"",component:(r=function(){function t(e,o,i,r,a,s,c,l){n(this,t),this.router=e,this.firebaseAuthentication=o,this.alertControler=i,this.platform=r,this.navCtrl=a,this.servicioAES=s,this.loadingController=c,this.apiServicio=l,this.nombres="",this.apellidos="",this.celular="",this.contrasenia="",this.activar_boton=!0,this.error_nombres=!0,this.error_apellidos=!0,this.error_celular=!0,this.error_contra=!0,this.vClave=!1,this.vCelular=!1,this.nuevoUsuario={id:"",nombreCompleto:"",apellidos:"",telefono:"",email:"",rutaFoto:"",fechaNacimiento:"",genero:"",password:""},this.keyJScrypto="123456$#@$^@1ERF"}var o,i,r;return o=t,(i=[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){var n=this;this.subscription=this.platform.backButton.subscribeWithPriority(9999,(function(){null==n.loading&&null==n.loading||n.loading.dismiss(),n.navCtrl.pop()}))}},{key:"ionViewDidLeave",value:function(){this.subscription.unsubscribe()}},{key:"verificarCelular",value:function(){9==this.celular.length?(this.vCelular=!0,this.error_celular=!0):(this.vCelular=!1,this.error_celular=!1),this.verificarInputs()}},{key:"verificarContrasenia",value:function(){this.contrasenia.length>=8?(this.vClave=!0,this.error_contra=!0):(this.vClave=!1,this.error_contra=!1),this.verificarInputs()}},{key:"verificarInputs",value:function(){this.activar_boton=""==this.nombres||""==this.apellidos||1!=this.vCelular||1!=this.vClave}},{key:"enviarCodigo",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.nuevoUsuario.nombreCompleto=this.nombres,this.nuevoUsuario.apellidos=this.apellidos,this.nuevoUsuario.telefono=this.celular,this.nuevoUsuario.rutaFoto="https://firebasestorage.googleapis.com/v0/b/bubeapp.appspot.com/o/ImagenesUsuarios%2Favatar_perfil.jpg?alt=media&token=3757e499-3ff4-4f3a-ba3d-911bde3506f7",this.nuevoUsuario.password=this.servicioAES.set(this.keyJScrypto,this.contrasenia),e={state:{usuario:this.nuevoUsuario,codigo:this.codigo}},this.subscription2.unsubscribe(),this.router.navigate(["codigo-sms"],e);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"postVerificarLoginTelefono",value:function(){var n=this;this.subscription2=this.platform.backButton.subscribeWithPriority(9999,(function(){})),this.presentLoading(),this.apiServicio.postVerificarLoginTelefono({telefono:this.celular}).then((function(e){console.log(e),n.loading.dismiss(),0==n.retornarFlag(e)?(console.log("usuario no existe"),n.enviarMensaje()):(n.presentAlert1(),n.subscription2.unsubscribe())})).catch((function(e){console.log(e),n.loading.dismiss(),n.presentAlert(),n.subscription2.unsubscribe()}))}},{key:"retornarFlag",value:function(n){var e;return n.find((function(n){e=n.ind_user})),e}},{key:"enviarMensaje",value:function(){var n=this;this.firebaseAuthentication.verifyPhoneNumber("+51"+this.celular.toString(),3e4).then((function(e){n.codigo=e,n.loading.dismiss(),n.enviarCodigo()})).catch((function(e){console.log(e),n.loading.dismiss(),n.presentAlert(),n.subscription2.unsubscribe()}))}},{key:"presentLoading",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Cargando...",translucent:!0,animated:!0});case 2:return this.loading=n.sent,n.next=5,this.loading.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertControler.create({cssClass:"my-custom-class",header:"Error",subHeader:"Error en el registro.",message:"Ha ocurrido un error registrando int\xe9ntelo de nuevo.",buttons:["OK"]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert1",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertControler.create({header:"Error",cssClass:"my-custom-class",subHeader:"el tel\xe9fono ya est\xe1 registrado",message:"Intente con otro tel\xe9fono",buttons:["OK"]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}}])&&e(o.prototype,i),r&&e(o,r),t}(),r.\u0275fac=function(n){return new(n||r)(g.Ib(u.g),g.Ib(d.a),g.Ib(l.a),g.Ib(l.mb),g.Ib(l.lb),g.Ib(h.a),g.Ib(l.ib),g.Ib(p.a))},r.\u0275cmp=g.Cb({type:r,selectors:[["app-registro-datos"]],decls:49,vars:9,consts:[[1,"ion-no-border"],["action","#"],[1,"conteiner-titulo"],[1,"titulo-login",2,"font-size","30px"],[1,"contenedor"],[1,"label-input"],["lines","none",1,"input-item"],["type","text","name","nombres","maxlength","30",1,"input-text",3,"ngModel","ngModelChange","ionChange"],[1,"label-input-error",3,"hidden"],["name","alert-circle-outline"],["type","text","name","apellidos","maxlength","30",1,"input-text",3,"ngModel","ngModelChange","ionChange"],["oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');","type","tel","name","telefono","maxlength","9",1,"input-text",3,"ngModel","ngModelChange","ionChange"],["type","password","name","password",1,"input-text",3,"ngModel","ngModelChange","ionChange"],["expand","block",1,"btn-iniciar-sesion",3,"disabled","click"]],template:function(n,e){1&n&&(g.Jb(0,"ion-header",0),g.Mb(1,"ion-content"),g.Mb(2,"form",1),g.Mb(3,"ion-row"),g.Mb(4,"div",2),g.Mb(5,"ion-label",3),g.uc(6,"Registra tus datos"),g.Jb(7,"br"),g.Lb(),g.Lb(),g.Lb(),g.Mb(8,"ion-row"),g.Mb(9,"div",4),g.Mb(10,"ion-row"),g.Mb(11,"ion-label",5),g.uc(12,"Nombres"),g.Lb(),g.Lb(),g.Mb(13,"ion-item",6),g.Mb(14,"ion-input",7),g.Ub("ngModelChange",(function(n){return e.nombres=n}))("ionChange",(function(){return e.verificarInputs()})),g.Lb(),g.Lb(),g.Mb(15,"ion-label",8),g.Jb(16,"ion-icon",9),g.uc(17,"Campo requerido"),g.Lb(),g.Lb(),g.Mb(18,"div",4),g.Mb(19,"ion-row"),g.Mb(20,"ion-label",5),g.uc(21,"Apellidos"),g.Lb(),g.Lb(),g.Mb(22,"ion-item",6),g.Mb(23,"ion-input",10),g.Ub("ngModelChange",(function(n){return e.apellidos=n}))("ionChange",(function(){return e.verificarInputs()})),g.Lb(),g.Lb(),g.Mb(24,"ion-label",8),g.Jb(25,"ion-icon",9),g.uc(26,"Campo requerido"),g.Lb(),g.Lb(),g.Mb(27,"div",4),g.Mb(28,"ion-row"),g.Mb(29,"ion-label",5),g.uc(30,"Celular"),g.Lb(),g.Lb(),g.Mb(31,"ion-item",6),g.Mb(32,"ion-input",11),g.Ub("ngModelChange",(function(n){return e.celular=n}))("ionChange",(function(){return e.verificarCelular()})),g.Lb(),g.Lb(),g.Mb(33,"ion-label",8),g.Jb(34,"ion-icon",9),g.uc(35,"M\xednimo 9 d\xedgitos (Solo n\xfameros)"),g.Lb(),g.Lb(),g.Mb(36,"div",4),g.Mb(37,"ion-row"),g.Mb(38,"ion-label",5),g.uc(39,"Contrase\xf1a"),g.Lb(),g.Lb(),g.Mb(40,"ion-item",6),g.Mb(41,"ion-input",12),g.Ub("ngModelChange",(function(n){return e.contrasenia=n}))("ionChange",(function(){return e.verificarContrasenia()})),g.Lb(),g.Lb(),g.Mb(42,"ion-label",8),g.Jb(43,"ion-icon",9),g.uc(44,"M\xednimo 8 caracteres."),g.Lb(),g.Lb(),g.Lb(),g.Mb(45,"ion-row"),g.Mb(46,"div",4),g.Mb(47,"ion-button",13),g.Ub("click",(function(){return e.postVerificarLoginTelefono()})),g.uc(48,"Registrar"),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Lb()),2&n&&(g.yb(14),g.ec("ngModel",e.nombres),g.yb(1),g.ec("hidden",e.error_nombres),g.yb(8),g.ec("ngModel",e.apellidos),g.yb(1),g.ec("hidden",e.error_apellidos),g.yb(8),g.ec("ngModel",e.celular),g.yb(1),g.ec("hidden",e.error_celular),g.yb(8),g.ec("ngModel",e.contrasenia),g.yb(1),g.ec("hidden",e.error_contra),g.yb(5),g.ec("disabled",e.activar_boton))},directives:[l.v,l.q,c.o,c.i,c.j,l.Q,l.G,l.B,l.A,l.rb,c.e,c.h,c.k,l.w,l.h],styles:["ion-content[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#121212}ion-content[_ngcontent-%COMP%]   .conteiner-titulo[_ngcontent-%COMP%]{text-align:center;align-content:center;left:0;right:0;margin-top:10%;width:100%;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .conteiner-titulo[_ngcontent-%COMP%]   .titulo-login[_ngcontent-%COMP%]{color:#f3f2ed;font-family:SF-UI-Display-Black;font-size:20px;margin-top:20px}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{align-content:center;width:100%;margin-top:15px}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{color:#515252;margin-left:12%;font-family:SFUIDisplay-Regular;font-style:Regular;font-weight:400;font-size:17px;line-height:19px;color:#f3f2ed}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{margin:5px auto;width:80%;height:50px;--background:transparent!important;border:2px solid #108b3c;box-sizing:border-box;border-radius:16px!important;--highlight-color-focused:none}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{color:#8f9090;font-family:SFUIDisplay-Regular;font-style:Regular;color:#f3f2ed;font-weight:400}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .btn-iniciar-sesion[_ngcontent-%COMP%]{--background:#108b3c;margin:20px 10%;font-size:18px;letter-spacing:.25px;text-transform:none;height:50px;--border-radius:16px;font-family:SFCompactText-Medium;--color:#fff;color:#fff;--background-activated:#1ab952}.label-input-error[_ngcontent-%COMP%]{color:red;margin-left:12%;font-family:SFUIDisplay-Regular;font-style:Regular;font-size:12px;line-height:19px}"]}),r)}],m=((a=function e(){n(this,e)}).\u0275mod=g.Gb({type:a}),a.\u0275inj=g.Fb({factory:function(n){return new(n||a)},providers:[h.a],imports:[[s.c,c.d,l.gb,u.i.forChild(f)]]}),a)}}])}();