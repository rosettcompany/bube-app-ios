!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"/wOe":function(t,o,r){"use strict";r.r(o),r.d(o,"LoginTelefonoPageModule",(function(){return y}));var i=r("ofXK"),s=r("tyNb"),a=r("TEn/"),l=r("mrSG"),c=r("3Pt+"),u=r("fXoL"),b=r("Q4mC"),g=r("CmMg");function p(e,n){1&e&&(u.Mb(0,"span",12),u.Mb(1,"ion-label",13),u.uc(2,"Telefono es requerido (Solo n\xfameros)."),u.Lb(),u.Lb())}function f(e,n){1&e&&(u.Mb(0,"span",12),u.Mb(1,"ion-label",13),u.uc(2,"M\xednimo 9 d\xedgitos(Solo n\xfameros)."),u.Lb(),u.Lb())}function d(e,n){1&e&&(u.Mb(0,"span",12),u.Mb(1,"ion-label",13),u.uc(2,"Ingrese un n\xfamero v\xe1lido (Solo n\xfameros)."),u.Lb(),u.Lb())}function m(e,n){1&e&&(u.Mb(0,"span",12),u.Mb(1,"ion-label",13),u.uc(2,"Contrase\xf1a es requerida."),u.Lb(),u.Lb())}function h(e,n){1&e&&(u.Mb(0,"span",12),u.Mb(1,"ion-label",13),u.uc(2,"M\xednimo 8 caracteres."),u.Lb(),u.Lb())}var v,M,C=[{path:"",component:(v=function(){function t(n,o,r,i,s,a,l,u){e(this,t),this.router=n,this.loadingController=o,this.formBuilder=r,this.platform=i,this.navCtrl=s,this.servicioAES=a,this.alertController=l,this.apiService=u,this.submitted=!1,this.telefono="999999999",this.password="grover",this.Usuario={nombreCompleto:"",apellidos:"",telefono:"",email:"",rutaFoto:"",fechaNacimiento:"",genero:"",password:""},this.keyJScrypto="123456$#@$^@1ERF",this.myForm=this.formBuilder.group({telefono:["",[c.n.required,c.n.max(999999999),c.n.min(111111111)]],password:["",[c.n.required,c.n.minLength(8)]]})}var o,r,i;return o=t,(r=[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){var e=this;this.subscription=this.platform.backButton.subscribeWithPriority(9999,(function(){null==e.loading&&null==e.loading||e.loading.dismiss(),e.navCtrl.pop()}))}},{key:"ionViewDidLeave",value:function(){this.subscription.unsubscribe()}},{key:"onSubmit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.myForm.valid){e.next=2;break}return e.abrupt("return",(console.log("Llena todos los datos!"),!1));case 2:console.log(this.myForm.value),this.Usuario.telefono=this.myForm.value.telefono,n={telefono:this.myForm.value.telefono,password:this.servicioAES.set(this.keyJScrypto,this.myForm.value.password)},this.postLoginTelefono(n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"postLoginTelefono",value:function(e){var n=this;this.presentLoading(),this.apiService.postLoginTelefono(e).then((function(e){console.log(e),n.logearse(e)})).catch((function(e){console.log(e),n.loading.dismiss(),n.presentAlert2()}))}},{key:"logearse",value:function(e){this.loading.dismiss();var n={state:{nuevoUsuario:this.Usuario,tipoRegistro:"tel"}},t=this.retornarFlag(e);console.log("ind logearse "+t),0==t?(console.log("Pass incorrecta"),this.presentAlertErrorPass()):(this.guardarIdUser(e),3==t?(console.log("usuario nuevo"),this.router.navigate(["./validacionInicio",1],n)):4==t?(console.log("usuario nuevo"),this.router.navigate(["./validacionCorreo"],n)):2==t?(console.log("usuario antiguo"),this.router.navigate(["./app/inicio"],n)):5==t&&(console.log("usuario no existe"),this.presentAlert()))}},{key:"guardarIdUser",value:function(e){var n=this.telefono,t=this.retornarid(e),o=this.retornarFlag(e);this.apiService.setStorage("idusuario",t),this.apiService.setStorage("ind_user",o),this.apiService.setStorage("telefono",n),this.apiService.setStorage("usuario",this.Usuario),this.apiService.setStorage("tipoRegistro","tel")}},{key:"retornarFlag",value:function(e){var n;return e.find((function(e){n=e.ind_user})),n}},{key:"retornarid",value:function(e){var n;return e.find((function(e){n=e.idusuario})),n}},{key:"irRegistroDatos",value:function(){this.router.navigate(["registro-datos"])}},{key:"presentLoading",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Iniciando sesi\xf3n"});case 2:return this.loading=e.sent,e.next=5,this.loading.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlert",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"Usuario no existe",message:"Debe crear un nuevo usuario",buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlertErrorPass",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"Contrase\xf1a incorrecta",message:"Intente nuevamente",buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlert2",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Error",subHeader:"Se ha producido un error",message:"Error en el servidor de bube",buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"errorControl",get:function(){return this.myForm.controls}}])&&n(o.prototype,r),i&&n(o,i),t}(),v.\u0275fac=function(e){return new(e||v)(u.Ib(s.g),u.Ib(a.ib),u.Ib(c.a),u.Ib(a.mb),u.Ib(a.lb),u.Ib(b.a),u.Ib(a.a),u.Ib(g.a))},v.\u0275cmp=u.Cb({type:v,selectors:[["app-login-telefono"]],decls:36,vars:6,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"conteiner-titulo"],[1,"titulo-login",2,"font-size","30px"],[1,"contenedor"],[1,"label-input"],["lines","none",1,"input-item"],["oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');","formControlName","telefono","maxlength","9","type","tel",1,"input-text"],[2,"width","100%","margin-bottom","5px"],["class","error ion-padding error-input",4,"ngIf"],["formControlName","password","type","password",1,"input-text"],[1,"info-paragraph",3,"click"],["type","submit","expand","block",1,"btn-iniciar-sesion"],[1,"error","ion-padding","error-input"],[1,"label-error"]],template:function(e,n){1&e&&(u.Jb(0,"ion-header"),u.Mb(1,"ion-content"),u.Mb(2,"form",0),u.Ub("ngSubmit",(function(){return n.onSubmit()})),u.Mb(3,"ion-row"),u.Mb(4,"div",1),u.Mb(5,"ion-label",2),u.uc(6,"N\xfamero de tel\xe9fono"),u.Jb(7,"br"),u.Lb(),u.Lb(),u.Lb(),u.Mb(8,"ion-row"),u.Mb(9,"div",3),u.Mb(10,"ion-row"),u.Mb(11,"ion-label",4),u.uc(12,"N\xfamero de tel\xe9fono"),u.Lb(),u.Lb(),u.Mb(13,"ion-item",5),u.Jb(14,"ion-input",6),u.Lb(),u.Mb(15,"div",7),u.sc(16,p,3,0,"span",8),u.sc(17,f,3,0,"span",8),u.sc(18,d,3,0,"span",8),u.Lb(),u.Lb(),u.Mb(19,"div",3),u.Mb(20,"ion-row"),u.Mb(21,"ion-label",4),u.uc(22,"Contrase\xf1a"),u.Lb(),u.Lb(),u.Mb(23,"ion-item",5),u.Jb(24,"ion-input",9),u.Lb(),u.Mb(25,"div",7),u.sc(26,m,3,0,"span",8),u.sc(27,h,3,0,"span",8),u.Lb(),u.Lb(),u.Lb(),u.Mb(28,"ion-row"),u.Mb(29,"ion-col"),u.Mb(30,"ion-label",10),u.Ub("click",(function(){return n.irRegistroDatos()})),u.uc(31,"Registrate"),u.Lb(),u.Lb(),u.Lb(),u.Mb(32,"ion-row"),u.Mb(33,"div",3),u.Mb(34,"ion-button",11),u.uc(35,"Iniciar sesi\xf3n"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()),2&e&&(u.yb(2),u.ec("formGroup",n.myForm),u.yb(14),u.ec("ngIf",n.submitted&&(null==n.errorControl.telefono.errors?null:n.errorControl.telefono.errors.required)),u.yb(1),u.ec("ngIf",n.submitted&&(null==n.errorControl.telefono.errors?null:n.errorControl.telefono.errors.min)),u.yb(1),u.ec("ngIf",n.submitted&&(null==n.errorControl.telefono.errors?null:n.errorControl.telefono.errors.max)),u.yb(8),u.ec("ngIf",n.submitted&&(null==n.errorControl.password.errors?null:n.errorControl.password.errors.required)),u.yb(1),u.ec("ngIf",n.submitted&&(null==n.errorControl.password.errors?null:n.errorControl.password.errors.minlength)))},directives:[a.v,a.q,c.o,c.i,c.c,a.Q,a.G,a.B,a.A,a.rb,c.h,c.b,c.e,i.k,a.p,a.h],styles:["ion-content[_ngcontent-%COMP%]{--background:#121212}ion-content[_ngcontent-%COMP%]   .conteiner-titulo[_ngcontent-%COMP%]{text-align:center;align-content:center;left:0;right:0;margin-top:40%;width:100%;margin-bottom:20px}ion-content[_ngcontent-%COMP%]   .conteiner-titulo[_ngcontent-%COMP%]   .titulo-login[_ngcontent-%COMP%]{color:#f3f2ed;font-family:SF-UI-Display-Black;font-size:20px;margin-top:20px}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{align-content:center;width:100%}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{color:#515252;margin-left:10%;font-family:SFUIDisplay-Regular;font-style:Regular;font-weight:400;font-size:18px;line-height:19px;color:#f3f2ed}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{margin:5px auto;width:86%;height:50px;--background:transparent!important;border:2px solid #108b3c;box-sizing:border-box;border-radius:16px!important;--highlight-color-focused:none}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{color:#8f9090;font-family:SFUIDisplay-Regular;font-style:Regular;color:#f3f2ed;font-weight:400}ion-content[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]   .btn-iniciar-sesion[_ngcontent-%COMP%]{--background:#108b3c;margin:20px 30px;font-size:18px;letter-spacing:.25px;text-transform:none;height:50px;--border-radius:16px;font-family:SFCompactText-Medium;--color:#fff;color:#fff;--background-activated:#1ab952}ion-content[_ngcontent-%COMP%]   .info-paragraph[_ngcontent-%COMP%]{margin-bottom:var(--page-margin);color:#b8b7b7;text-align:left;margin-left:30px;text-decoration:underline;font-family:SFCompactText-Medium;font-size:14px}ion-content[_ngcontent-%COMP%]   .info-paragraph[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-content[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]{margin-left:8%}ion-content[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]   .label-error[_ngcontent-%COMP%]{font-family:SFUIDisplay-Regular;font-style:Regular;font-weight:400;font-size:14px;line-height:19px;color:red}"]}),v)}],y=((M=function n(){e(this,n)}).\u0275mod=u.Gb({type:M}),M.\u0275inj=u.Fb({factory:function(e){return new(e||M)},providers:[b.a],imports:[[i.c,c.d,c.m,a.gb,s.i.forChild(C)]]}),M)}}])}();