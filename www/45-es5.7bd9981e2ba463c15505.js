!function(){function r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{eYMH:function(t,o,i){"use strict";i.r(o),i.d(o,"SplashPageModule",(function(){return k}));var n,a,u,s=i("ofXK"),c=i("3Pt+"),l=i("TEn/"),p=i("tyNb"),f=i("mrSG"),h=i("fXoL"),b=i("CmMg"),v=i("54vc"),g=i("uJRU"),d=[{path:"",component:(n=function(){function t(e,o,i,n,a,u,s,c,l,p,f){r(this,t),this.apiServicio=e,this.router=o,this.menu=i,this.platform=n,this.routerOutlet=a,this.splashScreen=u,this.location=s,this.alertController=c,this.navCtrl=l,this.appVersion=p,this.apiService=f}var o,i,n;return o=t,(i=[{key:"ionViewDidEnter",value:function(){this.obtenerIndUser(),this.backbutton2()}},{key:"comprobarVersion",value:function(){var r=this;this.platform.ready().then((function(){r.appVersion.getVersionNumber().then((function(e){console.log(e),r.apiServicio.obtenerVersionApp().then((function(t){console.log(t),String(e)!==String(t[0].p_codigo).trim()?r.router.navigate(["./mensaje"]):r.obtenerIndUser()})).catch((function(e){r.error()}))})).catch((function(e){alert(e),r.error()}))}))}},{key:"obtenerIndUser",value:function(){var r=this;this.apiServicio.getStorage("ind_user").then((function(e){r.apiServicio.getStorage("usuario").then((function(t){r.usuario=t,r.apiServicio.getStorage("tipoRegistro").then((function(t){r.tipoRegistro=t,r.comprobarDatos(e)}))}))}))}},{key:"error",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Error de conexi\xf3n",message:"Verifique su conexi\xf3n a internet",buttons:[{text:"OK",role:"cancel",cssClass:"secondary",handler:function(r){console.log("Boton no")}}]});case 2:return e=r.sent,r.next=5,e.present();case 5:case"end":return r.stop()}}),r,this)})))}},{key:"comprobarDatos",value:function(r){var e={state:{nuevoUsuario:this.usuario,tipoRegistro:this.tipoRegistro}};switch(r){case 2:console.log("Sesion completa"),this.router.navigate(["./app/inicio"],e);break;case 3:console.log("Falta validaci\xf3n bebidas"),this.router.navigate(["./validacionInicio",1],e);break;case 4:console.log("Falta validaci\xf3n correo"),this.router.navigate(["./validacionCorreo"],e);break;case 5:console.log("Falta iniciar sesion"),this.router.navigate(["./login"]);break;default:console.log("Usuario Nuevo"),this.router.navigate(["./walkthrough"])}}},{key:"backbutton2",value:function(){var r=this;this.platform.backButton.subscribeWithPriority(-1,(function(){"/app/amigos"!==r.router.url&&"/app/inicio"!==r.router.url&&"/app/perfil"!==r.router.url&&"/app/ahorro"!==r.router.url&&"/validacionInicio/1"!==r.router.url&&"/validacionCorreo"!==r.router.url&&"/login"!==r.router.url&&"/walkthrough"!==r.router.url||(console.log("ATRAS"),navigator.app.exitApp())}))}},{key:"backbuttonTemporal",value:function(){this.platform.backButton.subscribeWithPriority(0,(function(){}))}},{key:"backbutton",value:function(){var r=this;this.platform.backButton.subscribeWithPriority(0,(function(){"/app/amigos"===r.router.url||"/app/inicio"===r.router.url||"/app/perfil"===r.router.url||"/app/ahorro"===r.router.url||"/validacionInicio/1"===r.router.url||"/validacionCorreo"===r.router.url?r.presentAlertConfirm():"/comprobante"===r.router.url||"/loading"===r.router.url||("/login"===r.router.url||"/walkthrough"===r.router.url?navigator.app.exitApp():"/app/perfil/misdatos/validacionInicio/2"===r.router.url?r.router.navigate(["./app/perfil/misdatos"]):"/app/perfil/misdatos"===r.router.url?r.router.navigate(["./app/perfil"]):"/app/inicio/busquedaProducto"===r.router.url||"/app/inicio/busquedaCategoria"===r.router.url||"/app/inicio/busquedaEstablecimiento"===r.router.url||"/app/inicio/busquedaPromocion"===r.router.url?r.router.navigate(["./app/inicio"]):"/app/perfil/notificaciones"===r.router.url||"/app/perfil/contactanos"===r.router.url||"/app/perfil/mistarjetas"===r.router.url?r.router.navigate(["./app/perfil"]):r.navCtrl.back())}))}},{key:"presentAlertConfirm",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Salir",message:"\xbfDesea cerrar la aplicaci\xf3n?",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:function(r){console.log("Boton no")}},{text:"Si",handler:function(){navigator.app.exitApp()}}]});case 2:return e=r.sent,r.next=5,e.present();case 5:case"end":return r.stop()}}),r,this)})))}}])&&e(o.prototype,i),n&&e(o,n),t}(),n.\u0275fac=function(r){return new(r||n)(h.Ib(b.a),h.Ib(p.g),h.Ib(l.jb),h.Ib(l.mb),h.Ib(l.P),h.Ib(v.a),h.Ib(s.g),h.Ib(l.a),h.Ib(l.lb),h.Ib(g.a),h.Ib(b.a))},n.\u0275cmp=h.Cb({type:n,selectors:[["app-splash"]],decls:2,vars:0,template:function(r,e){1&r&&(h.Jb(0,"ion-header"),h.Jb(1,"ion-content"))},directives:[l.v,l.q],styles:["ion-content[_ngcontent-%COMP%]{--background:#121212}"]}),n)}],m=((u=function e(){r(this,e)}).\u0275mod=h.Gb({type:u}),u.\u0275inj=h.Fb({factory:function(r){return new(r||u)},imports:[[p.i.forChild(d)],p.i]}),u),k=((a=function e(){r(this,e)}).\u0275mod=h.Gb({type:a}),a.\u0275inj=h.Fb({factory:function(r){return new(r||a)},imports:[[s.c,c.d,l.gb,m]]}),a)}}])}();