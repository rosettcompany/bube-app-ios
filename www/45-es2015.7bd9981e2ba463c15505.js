(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{eYMH:function(t,r,i){"use strict";i.r(r),i.d(r,"SplashPageModule",(function(){return g}));var o=i("ofXK"),e=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),n=i("mrSG"),l=i("fXoL"),u=i("CmMg"),c=i("54vc"),p=i("uJRU");const h=[{path:"",component:(()=>{class t{constructor(t,r,i,o,e,a,s,n,l,u,c){this.apiServicio=t,this.router=r,this.menu=i,this.platform=o,this.routerOutlet=e,this.splashScreen=a,this.location=s,this.alertController=n,this.navCtrl=l,this.appVersion=u,this.apiService=c}ionViewDidEnter(){this.obtenerIndUser(),this.backbutton2()}comprobarVersion(){this.platform.ready().then(()=>{this.appVersion.getVersionNumber().then(t=>{console.log(t),this.apiServicio.obtenerVersionApp().then(r=>{console.log(r),String(t)!==String(r[0].p_codigo).trim()?this.router.navigate(["./mensaje"]):this.obtenerIndUser()}).catch(t=>{this.error()})}).catch(t=>{alert(t),this.error()})})}obtenerIndUser(){this.apiServicio.getStorage("ind_user").then(t=>{this.apiServicio.getStorage("usuario").then(r=>{this.usuario=r,this.apiServicio.getStorage("tipoRegistro").then(r=>{this.tipoRegistro=r,this.comprobarDatos(t)})})})}error(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Error de conexi\xf3n",message:"Verifique su conexi\xf3n a internet",buttons:[{text:"OK",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Boton no")}}]});yield t.present()}))}comprobarDatos(t){let r={state:{nuevoUsuario:this.usuario,tipoRegistro:this.tipoRegistro}};switch(t){case 2:console.log("Sesion completa"),this.router.navigate(["./app/inicio"],r);break;case 3:console.log("Falta validaci\xf3n bebidas"),this.router.navigate(["./validacionInicio",1],r);break;case 4:console.log("Falta validaci\xf3n correo"),this.router.navigate(["./validacionCorreo"],r);break;case 5:console.log("Falta iniciar sesion"),this.router.navigate(["./login"]);break;default:console.log("Usuario Nuevo"),this.router.navigate(["./walkthrough"])}}backbutton2(){this.platform.backButton.subscribeWithPriority(-1,()=>{"/app/amigos"!==this.router.url&&"/app/inicio"!==this.router.url&&"/app/perfil"!==this.router.url&&"/app/ahorro"!==this.router.url&&"/validacionInicio/1"!==this.router.url&&"/validacionCorreo"!==this.router.url&&"/login"!==this.router.url&&"/walkthrough"!==this.router.url||(console.log("ATRAS"),navigator.app.exitApp())})}backbuttonTemporal(){this.platform.backButton.subscribeWithPriority(0,()=>{})}backbutton(){this.platform.backButton.subscribeWithPriority(0,()=>{"/app/amigos"===this.router.url||"/app/inicio"===this.router.url||"/app/perfil"===this.router.url||"/app/ahorro"===this.router.url||"/validacionInicio/1"===this.router.url||"/validacionCorreo"===this.router.url?this.presentAlertConfirm():"/comprobante"===this.router.url||"/loading"===this.router.url||("/login"===this.router.url||"/walkthrough"===this.router.url?navigator.app.exitApp():"/app/perfil/misdatos/validacionInicio/2"===this.router.url?this.router.navigate(["./app/perfil/misdatos"]):"/app/perfil/misdatos"===this.router.url?this.router.navigate(["./app/perfil"]):"/app/inicio/busquedaProducto"===this.router.url||"/app/inicio/busquedaCategoria"===this.router.url||"/app/inicio/busquedaEstablecimiento"===this.router.url||"/app/inicio/busquedaPromocion"===this.router.url?this.router.navigate(["./app/inicio"]):"/app/perfil/notificaciones"===this.router.url||"/app/perfil/contactanos"===this.router.url||"/app/perfil/mistarjetas"===this.router.url?this.router.navigate(["./app/perfil"]):this.navCtrl.back())})}presentAlertConfirm(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Salir",message:"\xbfDesea cerrar la aplicaci\xf3n?",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Boton no")}},{text:"Si",handler:()=>{navigator.app.exitApp()}}]});yield t.present()}))}}return t.\u0275fac=function(r){return new(r||t)(l.Ib(u.a),l.Ib(s.g),l.Ib(a.jb),l.Ib(a.mb),l.Ib(a.P),l.Ib(c.a),l.Ib(o.g),l.Ib(a.a),l.Ib(a.lb),l.Ib(p.a),l.Ib(u.a))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-splash"]],decls:2,vars:0,template:function(t,r){1&t&&(l.Jb(0,"ion-header"),l.Jb(1,"ion-content"))},directives:[a.v,a.q],styles:["ion-content[_ngcontent-%COMP%]{--background:#121212}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(r){return new(r||t)},imports:[[s.i.forChild(h)],s.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(r){return new(r||t)},imports:[[o.c,e.d,a.gb,b]]}),t})()}}]);