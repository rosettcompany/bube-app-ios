(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"2gss":function(t,i,e){"use strict";e.d(i,"a",(function(){return l}));var o=e("fXoL"),n=e("ofXK"),a=e("Kt/9"),c=e("TEn/");function s(t,i){1&t&&o.cc(0,0,["*ngIf","_display === 'cover'"])}const r=["*"];let l=(()=>{class t{constructor(t){this.platformId=t,this.debugDisplay=!(!a.a.settings||!a.a.settings.debug)&&a.a.settings.debug,this._src="",this._alt="",this._display="",this.imageLoaded=!1}set display(t){this._display=null!=t?t:""}get display(){return this._display}set src(t){this.debugDisplay||(this._src=null!=t?t:""),"cover"===this._display&&(this.backgroundImage="unset"),this.imageLoaded=!!Object(n.s)(this.platformId)}set alt(t){this._alt=null!=t?t:""}_imageLoaded(){this.imageLoaded=!0,"cover"===this._display&&(this.backgroundImage="url("+this._src+")")}}return t.\u0275fac=function(i){return new(i||t)(o.Ib(o.B))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-image-shell"]],hostVars:5,hostBindings:function(t,i){2&t&&(o.zb("display",i.display),o.rc("background-image",i.backgroundImage),o.Ab("img-loaded",i.imageLoaded))},inputs:{display:"display",src:"src",alt:"alt"},ngContentSelectors:r,decls:3,vars:3,consts:[[1,"spinner"],[1,"inner-img",3,"src","alt","load"],[4,"ngIf"]],template:function(t,i){1&t&&(o.dc(),o.Jb(0,"ion-spinner",0),o.Mb(1,"img",1),o.Ub("load",(function(){return i._imageLoaded()})),o.Lb(),o.sc(2,s,1,0,"ng-content",2)),2&t&&(o.yb(1),o.ec("src",i._src,o.nc)("alt",i._alt),o.yb(1),o.ec("ngIf","cover"===i._display))},directives:[c.Z,n.k],styles:['[_nghost-%COMP%]{--image-shell-loading-background:#eee;--image-shell-border-radius:0px;display:block;position:relative;height:100%;border-radius:var(--image-shell-border-radius);transition:all .3s ease-in-out;z-index:2}[_nghost-%COMP%] > .spinner[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:before{content:"";background:var(--image-shell-loading-background);border-radius:var(--image-shell-border-radius);position:absolute;top:0;bottom:0;left:0;right:0}[_nghost-%COMP%]:not([display=cover]){width:100%;overflow:hidden}[_nghost-%COMP%]:not([display=cover]) > .inner-img[_ngcontent-%COMP%]{transition:visibility 0s linear,opacity .5s linear;opacity:0;visibility:hidden;width:100%;height:100%;border-radius:var(--image-shell-border-radius)}[_nghost-%COMP%]:not([display=cover]).img-loaded:before{display:none}[_nghost-%COMP%]:not([display=cover]).img-loaded > .inner-img[_ngcontent-%COMP%]{opacity:1;visibility:visible}[display=cover][_nghost-%COMP%]{background-size:cover;background-repeat:no-repeat}[display=cover][_nghost-%COMP%]:before, [display=cover][_nghost-%COMP%] > .spinner[_ngcontent-%COMP%]{z-index:-1}[display=cover][_nghost-%COMP%] > .inner-img[_ngcontent-%COMP%]{display:none;visibility:hidden}[display=cover].img-loaded[_nghost-%COMP%]:before{display:none}[animation=gradient][_nghost-%COMP%]{--image-shell-loading-background:#eee;--image-shell-animation-color:#ddd}[animation=gradient][_nghost-%COMP%]:before{background:linear-gradient(90deg,var(--image-shell-loading-background) 8%,var(--image-shell-animation-color) 18%,var(--image-shell-loading-background) 33%);background-size:800px 104px;-webkit-animation:animateBackground 2s ease-in-out infinite;animation:animateBackground 2s ease-in-out infinite}[animation=gradient].img-loaded[_nghost-%COMP%]:before{background:none;-webkit-animation:0;animation:0}@-webkit-keyframes animateBackground{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes animateBackground{0%{background-position:-468px 0}to{background-position:468px 0}}[animation=spinner][_nghost-%COMP%]{--image-shell-spinner-size:28px;--image-shell-spinner-color:#ccc}[animation=spinner][_nghost-%COMP%] > .spinner[_ngcontent-%COMP%]{display:block;position:absolute;top:calc(50% - calc(var(--image-shell-spinner-size) / 2));left:calc(50% - calc(var(--image-shell-spinner-size) / 2));width:var(--image-shell-spinner-size);height:var(--image-shell-spinner-size);font-size:var(--image-shell-spinner-size);line-height:var(--image-shell-spinner-size);color:var(--image-shell-spinner-color)}[animation=spinner].img-loaded[_nghost-%COMP%] > .spinner[_ngcontent-%COMP%]{display:none;visibility:hidden}.add-overlay[_nghost-%COMP%]{--image-shell-overlay-background:rgba(0,0,0,0.4)}.add-overlay.img-loaded[_nghost-%COMP%]:before{display:block;background:var(--image-shell-overlay-background)}']}),t})()},B7gC:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var o=e("fXoL");const n=["*"];let a=(()=>{class t{constructor(){this.ratioPadding="0px"}set ratio(t){this.ratioPadding="0px 0px "+(t=null!=t?t:{w:1,h:1}).h/t.w*100+"% 0px"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=o.Cb({type:t,selectors:[["app-aspect-ratio"]],hostVars:2,hostBindings:function(t,i){2&t&&o.rc("padding",i.ratioPadding)},inputs:{ratio:"ratio"},ngContentSelectors:n,decls:2,vars:0,consts:[[1,"content-wrapper"]],template:function(t,i){1&t&&(o.dc(),o.Mb(0,"div",0),o.cc(1),o.Lb())},styles:["[_nghost-%COMP%]{display:block;overflow:hidden;position:relative;width:100%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"]}),t})()},JNsg:function(t,i,e){"use strict";e.d(i,"a",(function(){return u}));var o=e("fXoL"),n=e("TEn/"),a=e("tyNb"),c=e("e8h1"),s=e("CmMg"),r=e("ofXK"),l=e("3Pt+");function b(t,i){if(1&t){const t=o.Nb();o.Mb(0,"ion-row",8),o.Mb(1,"div",23),o.Jb(2,"ion-icon",24),o.Lb(),o.Mb(3,"div",23),o.Mb(4,"ion-label",25),o.uc(5,"Solo muestra establecimientos "),o.Jb(6,"br"),o.uc(7," donde puedo comprar"),o.Lb(),o.Lb(),o.Mb(8,"div",23),o.Mb(9,"ion-radio-group",26),o.Ub("ngModelChange",(function(i){return o.mc(t),o.Xb().radio1=i})),o.Mb(10,"ion-item",27),o.Mb(11,"ion-radio",28),o.Ub("click",(function(){return o.mc(t),o.Xb().clickRadioButton1()})),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){const t=o.Xb();o.yb(9),o.ec("ngModel",t.radio1)}}function d(t,i){if(1&t){const t=o.Nb();o.Mb(0,"ion-row",8),o.Mb(1,"div",23),o.Jb(2,"ion-icon",29),o.Lb(),o.Mb(3,"div",23),o.Mb(4,"ion-label",25),o.uc(5,"Mostrar solo promociones"),o.Lb(),o.Lb(),o.Mb(6,"div",23),o.Mb(7,"ion-radio-group",30),o.Ub("ngModelChange",(function(i){return o.mc(t),o.Xb().radio2=i}))("ionChange",(function(){return o.mc(t),o.Xb().clickRadioButton2()})),o.Mb(8,"ion-item",27),o.Jb(9,"ion-radio",31),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){const t=o.Xb();o.yb(7),o.ec("ngModel",t.radio2)}}function g(t,i){1&t&&(o.Mb(0,"ion-row"),o.Mb(1,"div",32),o.Jb(2,"ion-spinner",33),o.Lb(),o.Lb())}function h(t,i){if(1&t){const t=o.Nb();o.Mb(0,"ion-item",34),o.Mb(1,"div",35),o.Mb(2,"ion-label",36),o.uc(3),o.Lb(),o.Mb(4,"ion-checkbox",30),o.Ub("ngModelChange",(function(e){return o.mc(t),i.$implicit.isChecked=e}))("ionChange",(function(){o.mc(t);const e=i.$implicit;return o.Xb().ItemsMarca(e)})),o.Lb(),o.Lb(),o.Lb()}if(2&t){const t=i.$implicit;o.yb(3),o.vc(t.nombremarca),o.yb(1),o.ec("ngModel",t.isChecked)}}function p(t,i){1&t&&(o.Mb(0,"ion-row"),o.Mb(1,"div",32),o.Jb(2,"ion-spinner",33),o.Lb(),o.Lb())}function m(t,i){if(1&t){const t=o.Nb();o.Mb(0,"ion-item",34),o.Mb(1,"div",35),o.Mb(2,"ion-label",36),o.uc(3),o.Lb(),o.Mb(4,"ion-checkbox",30),o.Ub("ngModelChange",(function(e){return o.mc(t),i.$implicit.isChecked=e}))("ionChange",(function(){o.mc(t);const e=i.$implicit;return o.Xb().ItemsPacks(e)})),o.Lb(),o.Lb(),o.Lb()}if(2&t){const t=i.$implicit;o.yb(3),o.wc("",t.numeropack," u."),o.yb(1),o.ec("ngModel",t.isChecked)}}let u=(()=>{class t{constructor(t,i,e,o,n,a){this.menu=t,this.router=i,this.route=e,this.storage=o,this.apiService=n,this.modalCtrl=a,this.radio1="",this.radio2="",this.valorRadio=0,this.valorRadio2=!1,this.rango1=!1,this.rango2=!1,this.rango3=!1,this.rango4=!1,this.rango5=!1,this.cadenaFiltroMarca="",this.cadenaFiltroPack="",this.ListaMarca=[],this.ListaPacks=[],this.checkMarcas=[],this.checkPacks=[],this.spinnerMarcas=!1,this.spinnerPacks=!1}cargarDatos(){if(this.spinnerPacks=!0,this.spinnerMarcas=!0,null!=this.input){let t={nombrebebida:this.input,subCategoria:this.filtroSubCategoria.subcategoria,lat:this.latitud,lng:this.longitud,km:this.km};console.log(t),this.getMarcas(t),this.getPack(t)}else if(null!=this.categoria){let t={categoria:this.categoria,subCategoria:this.filtroSubCategoria.subcategoria,lat:this.latitud,lng:this.longitud,km:this.km};console.log(t),this.getMarcasCategoria(t),this.getPackCategoria(t)}else if(null!=this.establecimiento){this.parteSuperiorVisible=!1;let t={establecimiento:this.establecimiento,subCategoria:this.filtroSubCategoria.subcategoria};console.log(t),this.getMarcasEstablecimiento(t),this.getPackEstablecimiento(t)}}closeModal(){this.modalCtrl.dismiss(0)}ionViewDidEnter(){this.menu.enable(!1)}ionViewWillEnter(){this.cargarFiltroTemporal()}cargarFiltroTemporal(){this.storage.get("filtrollenado").then(t=>{if(null!=t){let i=t;this.ListaMarca=i.marcas,this.ListaPacks=i.packs;let e=i.rangos;this.rango1=e.rango1,this.rango2=e.rango2,this.rango3=e.rango3,this.rango4=e.rango4,this.rango5=e.rango5,this.radio1=i.radio,"comprar"==this.radio1&&(this.valorRadio=1),this.radio2=i.radioPromocion}else this.cargarDatos()})}ionViewDidLeave(){this.menu.enable(!0)}clickRadioButton1(){"promocion"==this.radio2&&(this.radio2=""),this.valorRadio=1}clickRadioButton2(){"comprar"==this.radio1&&(this.radio1=""),this.valorRadio2=0==this.valorRadio2,console.log(this.valorRadio2)}Limpiar(){this.radio1="",this.radio2="",this.valorRadio=0,this.valorRadio2=!0,this.rango1=!1,this.rango2=!1,this.rango3=!1,this.rango4=!1,this.rango1=!1;for(let t of this.ListaMarca)t.isChecked=!1;for(let t of this.ListaPacks)t.isChecked=!1}Aplicar(){let t,i;this.concatMarcas2(),this.concatPacks2(),""==this.cadenaFiltroPack&&(this.cadenaFiltroPack=" "),""==this.cadenaFiltroMarca&&(this.cadenaFiltroMarca=" "),null!=this.input&&(t=this.input),null!=this.categoria&&(t=this.categoria),null!=this.establecimiento&&(t=this.establecimiento),i="comprar"==this.radio1?"AND SO.estadosocio = "+this.valorRadio:"AND SO.estadosocio IN(1,2)";let e={nombrebebida:t,establecimiento:" ",tipoCompra:i,marca:this.cadenaFiltroMarca,pack:this.cadenaFiltroPack},o=this.rangoSeleccionado(),n=this.radio1,a=this.radio2;console.log(e);let c={filtro:e,rango:o,promociones:this.valorRadio2};this.storage.set("filtrollenado",{marcas:this.ListaMarca,packs:this.ListaPacks,rangos:{rango1:this.rango1,rango2:this.rango2,rango3:this.rango3,rango4:this.rango4,rango5:this.rango5},radio:n,radioPromocion:a}),this.modalCtrl.dismiss(c)}concatMarcas(){for(let t=0;t<this.checkMarcas.length;t++){let i=this.checkMarcas[t].idmarca;this.cadenaFiltroMarca=this.cadenaFiltroMarca.concat(t==this.checkMarcas.length-1?i:i+",")}}concatPacks(){for(let t=0;t<this.checkPacks.length;t++){let i=this.checkPacks[t].numeropack;this.cadenaFiltroPack=this.cadenaFiltroPack.concat(t==this.checkPacks.length-1?i:i+",")}}concatMarcas2(){for(let t=0;t<this.checkMarcas.length;t++){let i=this.checkMarcas[t].idmarca;this.cadenaFiltroMarca=this.cadenaFiltroMarca.concat(1==this.checkMarcas.length?"AND D.idmarca IN("+i+")":0==t?"AND D.idmarca IN("+i:t==this.checkMarcas.length-1?","+i+")":","+i)}}concatPacks2(){for(let t=0;t<this.checkPacks.length;t++){let i=this.checkPacks[t].numeropack;this.cadenaFiltroPack=this.cadenaFiltroPack.concat(1==this.checkPacks.length?"AND D.numeropack IN("+i+")":0==t?"AND D.numeropack IN("+i:t==this.checkPacks.length-1?","+i+")":","+i)}}ItemsMarca(t){if(this.ListaMarca.find(i=>i.idmarca===t.idmarca))if(1==t.isChecked)this.checkMarcas.push({idmarca:t.idmarca,nombremarca:t.nombremarca});else{let i=this.checkMarcas.findIndex(i=>i.idmarca==t.idmarca);this.checkMarcas.splice(i,1)}}ItemsPacks(t){if(this.ListaPacks.find(i=>i.numeropack===t.numeropack))if(1==t.isChecked)this.checkPacks.push({numeropack:t.numeropack});else{let i=this.checkPacks.findIndex(i=>i.numeropack==t.numeropack);this.checkPacks.splice(i,1)}}getMarcas(t){this.apiService.getMarcasPrincipal(t).then(t=>{this.Marcas=t,this.spinnerMarcas=!1,this.llenarListaMarca()}).catch(t=>{console.log(t)})}getPack(t){this.apiService.getPackPrincipal(t).then(t=>{this.Packs=t,this.spinnerPacks=!1,this.llenarListaPacks()}).catch(t=>{console.log(t)})}getMarcasCategoria(t){this.apiService.getMarcasCategoria(t).then(t=>{this.Marcas=t,this.spinnerMarcas=!1,console.log(this.Marcas),this.llenarListaMarca()}).catch(t=>{console.log(t)})}getPackCategoria(t){this.apiService.getPackCategoria(t).then(t=>{this.Packs=t,this.spinnerPacks=!1,this.llenarListaPacks()}).catch(t=>{console.log(t)})}getMarcasEstablecimiento(t){this.apiService.getMarcasEstablecimiento(t).then(t=>{this.Marcas=t,this.spinnerMarcas=!1,this.llenarListaMarca()}).catch(t=>{console.log(t)})}getPackEstablecimiento(t){this.apiService.getPackEstablecimiento(t).then(t=>{this.Packs=t,this.spinnerPacks=!1,this.llenarListaPacks()}).catch(t=>{console.log(t)})}llenarListaMarca(){for(let t=0;t<this.Marcas.length;t++)this.ListaMarca.push({idmarca:this.Marcas[t].idmarca,nombremarca:this.Marcas[t].nombremarca,isChecked:!1})}llenarListaPacks(){for(let t=0;t<this.Packs.length;t++)this.ListaPacks.push({numeropack:this.Packs[t].numeropack,isChecked:!1})}ItemRango1(){1==this.rango1&&(this.rango2=!1,this.rango3=!1,this.rango4=!1,this.rango5=!1)}ItemRango2(){1==this.rango2&&(this.rango1=!1,this.rango3=!1,this.rango4=!1,this.rango5=!1)}ItemRango3(){1==this.rango3&&(this.rango2=!1,this.rango1=!1,this.rango4=!1,this.rango5=!1)}ItemRango4(){1==this.rango4&&(this.rango2=!1,this.rango3=!1,this.rango1=!1,this.rango5=!1)}ItemRango5(){1==this.rango5&&(this.rango2=!1,this.rango3=!1,this.rango4=!1,this.rango1=!1)}rangoSeleccionado(){let t=0;return 1==this.rango1&&(t=1),1==this.rango2&&(t=2),1==this.rango3&&(t=3),1==this.rango4&&(t=4),1==this.rango5&&(t=5),t}}return t.\u0275fac=function(i){return new(i||t)(o.Ib(n.jb),o.Ib(a.g),o.Ib(a.a),o.Ib(c.b),o.Ib(s.a),o.Ib(n.kb))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-inicio"]],decls:59,vars:12,consts:[[3,"translucent"],["slot","start"],[2,"color","#ffff"],["name","close-outline"],["fill","clear","slot","start",3,"click"],["name","close-outline",2,"zoom","1.5","color","aliceblue"],["fill","clear","slot","end",1,"ion-button-toolbar",3,"click"],[1,"label-button-header"],[2,"margin","20px"],[2,"background-color","transparent"],[1,"ion-label-title"],["style","margin: 20px;",4,"ngIf"],[1,"verticalLine"],[1,"ion-list-checkbox"],[1,"ion-label"],["lines","none",1,"item-radio"],[1,"label-range-price"],["slot","end",1,"ion-checkbox",3,"ngModel","ngModelChange","ionChange"],[4,"ngIf"],[1,"checkbox-tags","rounded-checkbox-tags"],["lines","none","class","checkbox-tag rounded-tag",4,"ngFor","ngForOf"],[1,"ion-no-border"],["expand","block",1,"button-aplicar",2,"margin","40px",3,"click"],[1,"div-filtro1"],["name","cart-outline",1,"icon-style"],[1,"label-style"],[3,"ngModel","ngModelChange"],["lines","none",1,"item-radio2"],["value","comprar",1,"radio-style",3,"click"],["src","./assets/Iconos/porcentaje.svg",1,"icon-style"],[3,"ngModel","ngModelChange","ionChange"],["value","promocion",1,"radio-style"],[1,"div-spinner-style"],["name","circles"],["lines","none",1,"checkbox-tag","rounded-tag"],[1,"div-border"],[1,"tag-label"]],template:function(t,i){1&t&&(o.Mb(0,"ion-header",0),o.Mb(1,"ion-toolbar"),o.Mb(2,"ion-buttons",1),o.Mb(3,"ion-back-button",2),o.Jb(4,"ion-icon",3),o.Lb(),o.Lb(),o.Mb(5,"ion-button",4),o.Ub("click",(function(){return i.closeModal()})),o.Jb(6,"ion-icon",5),o.Lb(),o.Mb(7,"ion-button",6),o.Ub("click",(function(){return i.Limpiar()})),o.Mb(8,"ion-label",7),o.uc(9," Limpiar"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(10,"ion-content"),o.Mb(11,"ion-row",8),o.Mb(12,"ion-item-divider",9),o.Mb(13,"ion-label",10),o.uc(14,"Filtrar"),o.Lb(),o.Lb(),o.Lb(),o.sc(15,b,12,1,"ion-row",11),o.sc(16,d,10,1,"ion-row",11),o.Jb(17,"div",12),o.Mb(18,"ion-list",13),o.Mb(19,"ion-item-divider",9),o.Mb(20,"ion-label",14),o.uc(21,"Rango de Precios"),o.Lb(),o.Lb(),o.Mb(22,"ion-item",15),o.Mb(23,"ion-label",16),o.uc(24,"Hasta S/50"),o.Lb(),o.Mb(25,"ion-checkbox",17),o.Ub("ngModelChange",(function(t){return i.rango1=t}))("ionChange",(function(){return i.ItemRango1()})),o.Lb(),o.Lb(),o.Mb(26,"ion-item",15),o.Mb(27,"ion-label",16),o.uc(28,"S/50 - S/250"),o.Lb(),o.Mb(29,"ion-checkbox",17),o.Ub("ngModelChange",(function(t){return i.rango2=t}))("ionChange",(function(){return i.ItemRango2()})),o.Lb(),o.Lb(),o.Mb(30,"ion-item",15),o.Mb(31,"ion-label",16),o.uc(32,"S/250 - S/500"),o.Lb(),o.Mb(33,"ion-checkbox",17),o.Ub("ngModelChange",(function(t){return i.rango3=t}))("ionChange",(function(){return i.ItemRango3()})),o.Lb(),o.Lb(),o.Mb(34,"ion-item",15),o.Mb(35,"ion-label",16),o.uc(36,"S/500 - S/1000"),o.Lb(),o.Mb(37,"ion-checkbox",17),o.Ub("ngModelChange",(function(t){return i.rango4=t}))("ionChange",(function(){return i.ItemRango4()})),o.Lb(),o.Lb(),o.Mb(38,"ion-item",15),o.Mb(39,"ion-label",16),o.uc(40,"S/1000 a m\xe1s"),o.Lb(),o.Mb(41,"ion-checkbox",17),o.Ub("ngModelChange",(function(t){return i.rango5=t}))("ionChange",(function(){return i.ItemRango5()})),o.Lb(),o.Lb(),o.Lb(),o.Jb(42,"div",12),o.Mb(43,"div",13),o.Mb(44,"ion-item-divider",9),o.Mb(45,"ion-label",14),o.uc(46,"Marcas"),o.Lb(),o.Lb(),o.sc(47,g,3,0,"ion-row",18),o.Mb(48,"ion-row",19),o.sc(49,h,5,2,"ion-item",20),o.Lb(),o.Mb(50,"ion-item-divider",9),o.Mb(51,"ion-label",14),o.uc(52,"Pack"),o.Lb(),o.Lb(),o.sc(53,p,3,0,"ion-row",18),o.Mb(54,"ion-row",19),o.sc(55,m,5,2,"ion-item",20),o.Lb(),o.Lb(),o.Lb(),o.Mb(56,"ion-footer",21),o.Mb(57,"ion-button",22),o.Ub("click",(function(){return i.Aplicar()})),o.uc(58,"Aplicar"),o.Lb(),o.Lb()),2&t&&(o.ec("translucent",!0),o.yb(15),o.ec("ngIf",i.parteSuperiorVisible),o.yb(1),o.ec("ngIf",i.parteSuperiorVisible2),o.yb(9),o.ec("ngModel",i.rango1),o.yb(4),o.ec("ngModel",i.rango2),o.yb(4),o.ec("ngModel",i.rango3),o.yb(4),o.ec("ngModel",i.rango4),o.yb(4),o.ec("ngModel",i.rango5),o.yb(6),o.ec("ngIf",i.spinnerMarcas),o.yb(2),o.ec("ngForOf",i.ListaMarca),o.yb(4),o.ec("ngIf",i.spinnerMarcas),o.yb(2),o.ec("ngForOf",i.ListaPacks))},directives:[n.v,n.fb,n.i,n.e,n.f,n.w,n.h,n.G,n.q,n.Q,n.C,r.k,n.H,n.B,n.n,n.b,l.h,l.k,r.j,n.t,n.M,n.qb,n.L,n.ob,n.Z],styles:["[_nghost-%COMP%]{--page-margin:var(--app-fair-margin);--page-background:var(--app-background-shade);--page-tags-gutter:5px;--page-color-radio-items-per-row:5;--page-color-radio-gutter:2%;--page-color-radio-width:calc((100% - (2 * var(--page-color-radio-gutter) * var(--page-color-radio-items-per-row))) / var(--page-color-radio-items-per-row))}ion-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:#121212}ion-footer[_ngcontent-%COMP%]{background:#121212}.item-radio[_ngcontent-%COMP%]{--background:#121212;min-height:38px;max-height:38px;align-content:center;align-items:center}.ion-button-toolbar[_ngcontent-%COMP%]{text-transform:none}.ion-list-radio[_ngcontent-%COMP%]{background-color:#121212;margin:20px}.div-filtro1[_ngcontent-%COMP%]{margin:auto;background-color:transparent}.div-filtro1[_ngcontent-%COMP%]   .label-style[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.25px;color:#f3f2ed;font-family:SFUIDisplay-Regular}.div-filtro1[_ngcontent-%COMP%]   .icon-style[_ngcontent-%COMP%]{zoom:2;color:#108b3c!important}.div-filtro1[_ngcontent-%COMP%]   .item-radio2[_ngcontent-%COMP%]{--background:#121212;margin:auto;align-items:center}.div-filtro1[_ngcontent-%COMP%]   .item-radio2[_ngcontent-%COMP%]   .radio-style[_ngcontent-%COMP%]{margin:auto;--color-checked:#108b3c}.ion-list-checkbox[_ngcontent-%COMP%]{margin:20px;background-color:#121212}.ion-list-checkbox[_ngcontent-%COMP%]   .div-spinner-style[_ngcontent-%COMP%]{width:100%;text-align:center;height:50px;display:flex;justify-content:center;align-items:center}.ion-list-checkbox[_ngcontent-%COMP%]   .div-spinner-style[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{color:#108b3c}.ion-checkbox[_ngcontent-%COMP%]{--checkmark-color:#121212;--background-checked:#108b3c;--border-color:#108b3c;--border-color-checked:#108b3c;--background:#121212}.verticalLine[_ngcontent-%COMP%]{width:85%;height:1px;background:#f3f2ed;position:relative;margin:auto}.checkbox-tags[_ngcontent-%COMP%]{padding:calc(var(--page-margin) / 2) calc(var(--page-margin) - var(--page-tags-gutter));--checkbox-tag-color:#000;--checkbox-tag-background:#fff;--checkbox-tag-active-color:#fff;--checkbox-tag-active-background:#000}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]{--padding-start:0px;--inner-padding-end:0px;--inner-padding-start:0px;--ion-item-background:var(--checkbox-tag-background);--ion-item-color:var(--checkbox-tag-color)}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag.rounded-tag[_ngcontent-%COMP%]{--border-radius:2.2rem}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag.item-checkbox-checked[_ngcontent-%COMP%]{--ion-item-background:var(--checkbox-tag-active-background);--ion-item-color:var(--checkbox-tag-active-color)}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag.item-interactive-disabled[_ngcontent-%COMP%]{opacity:.5}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag.item-interactive-disabled[_ngcontent-%COMP%]   .tag-label[_ngcontent-%COMP%]{opacity:1}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]   .tag-label[_ngcontent-%COMP%]{margin:5px;font-size:14px;font-weight:500;letter-spacing:.2px;text-align:center;align-items:center;align-content:center}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{margin:0;width:0;--border-width:0px;height:0;--color-checked:transparent}.checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]{padding:0 var(--page-tags-gutter);margin:var(--page-tags-gutter) 0}.checkbox-tags.square-checkbox-tags[_ngcontent-%COMP%]{background-color:var(--page-background)}.checkbox-tags.square-checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]{--checkbox-tag-color:var(--ion-color-medium);--checkbox-tag-background:var(--ion-color-lightest);--checkbox-tag-active-color:var(--ion-color-lightest);--checkbox-tag-active-background:var(--ion-color-secondary)}.checkbox-tags.rounded-checkbox-tags[_ngcontent-%COMP%]{background-color:var(--ion-color-lightest)}.checkbox-tags.rounded-checkbox-tags[_ngcontent-%COMP%]   .checkbox-tag[_ngcontent-%COMP%]{--checkbox-tag-color:#f3f2ed;--border-radius:16px;--min-height:30px!important;--max-height:30px!important;--checkbox-tag-background:transparent;--checkbox-tag-active-color:#f3f2ed;--checkbox-tag-active-background:#108b3c}.checkbox-tags.rounded-checkbox-tags[_ngcontent-%COMP%]   .div-border[_ngcontent-%COMP%]{border:2px solid #108b3c;border-radius:16px;max-width:auto;min-width:auto;min-height:30px;max-height:30px}.button-aplicar[_ngcontent-%COMP%]{--background:#108b3c;margin:20px 30px;font-size:16px;text-transform:none;height:50px;--border-radius:16px;font-family:SFCompactText-Medium;--color:#fff;color:#fff}.ion-label[_ngcontent-%COMP%]{font-size:18px;font-family:SFCompactText-Medium}.ion-label[_ngcontent-%COMP%], .ion-label-title[_ngcontent-%COMP%]{letter-spacing:.25px;color:#f3f2ed}.ion-label-title[_ngcontent-%COMP%]{font-size:22px;font-family:Gotham-Medium}.tag-label[_ngcontent-%COMP%]{font-size:22px;font-family:SFUIDisplay-Regular}.label-range-price[_ngcontent-%COMP%], .tag-label[_ngcontent-%COMP%]{letter-spacing:.25px;color:#f3f2ed}.label-range-price[_ngcontent-%COMP%]{font-size:16px;font-family:SFCompactText-Medium}.label-button-header[_ngcontent-%COMP%]{color:#f3f2ed;font-size:18px;letter-spacing:.25px;font-family:SFCompactText-Medium}"]}),t})()},"Kt/9":function(t,i,e){"use strict";e.d(i,"a",(function(){return c}));var o=e("fXoL"),n=e("vkgz"),a=e("tk/3");let c=(()=>{class t{constructor(t){this.http=t}load(){const i="./assets/config/app-shell.config"+(Object(o.U)()?"":".prod")+".json";return this.http.get(i).pipe(Object(n.a)(i=>{t.settings=i})).toPromise().catch(t=>{console.log(`Could not load file '${i}'`,t)})}}return t.\u0275fac=function(i){return new(i||t)(o.Qb(a.a))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},RZSX:function(t,i,e){"use strict";e.d(i,"a",(function(){return l}));var o=e("fXoL"),n=e("TEn/"),a=e("e8h1"),c=e("CmMg"),s=e("ofXK");function r(t,i){if(1&t){const t=o.Nb();o.Mb(0,"ion-item",9),o.Ub("click",(function(){o.mc(t);const e=i.$implicit;return o.Xb().clickCategoria(e)})),o.Mb(1,"ion-label",10),o.uc(2),o.Lb(),o.Lb()}if(2&t){const t=i.$implicit;o.yb(2),o.wc(" ",t.nombre," ")}}let l=(()=>{class t{constructor(t,i,e,o){this.menu=t,this.storage=i,this.modalCtrl=e,this.apiService=o}ionViewDidEnter(){this.menu.enable(!1)}ngOnInit(){console.log(this.categoria),null!=this.input?this.getSubCategoriasPrincipal():null!=this.categoria?this.getSubCategoriasCategoria():null!=this.establecimiento&&this.getSubCategoriasEstablecimiento()}ionViewDidLeave(){this.menu.enable(!0)}closeModal(){this.modalCtrl.dismiss(0)}getSubCategoriasPrincipal(){this.apiService.getSubCategoriasPrincipal(this.input).subscribe(t=>{this.subcategorias=t},t=>{console.error(t)})}getSubCategoriasCategoria(){this.apiService.getSubCategoriasCategoria(this.categoria).subscribe(t=>{this.subcategorias=t,console.log(this.subcategorias)},t=>{console.error(t)})}getSubCategoriasEstablecimiento(){this.apiService.getSubCategoriasEstablecimiento(this.establecimiento).subscribe(t=>{this.subcategorias=t},t=>{console.error(t)})}clickCategoria(t){let i={subcategoria:"AND D.idsubcategoria IN("+t.idsubcategoria+")"};this.storage.set("subcategoria",t),this.modalCtrl.dismiss(i)}}return t.\u0275fac=function(i){return new(i||t)(o.Ib(n.jb),o.Ib(a.b),o.Ib(n.kb),o.Ib(c.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-inicio"]],decls:12,vars:2,consts:[[3,"translucent"],["slot","start"],[2,"color","#ffff"],["fill","clear","slot","start",3,"click"],["name","close-outline",2,"zoom","1.5","color","aliceblue"],[1,"tittle-categorias"],[1,"tittle"],[1,"list-categorias"],["class","item-categorias",3,"click",4,"ngFor","ngForOf"],[1,"item-categorias",3,"click"],[1,"label-categoria"]],template:function(t,i){1&t&&(o.Mb(0,"ion-header",0),o.Mb(1,"ion-toolbar"),o.Mb(2,"ion-buttons",1),o.Jb(3,"ion-back-button",2),o.Lb(),o.Mb(4,"ion-button",3),o.Ub("click",(function(){return i.closeModal()})),o.Jb(5,"ion-icon",4),o.Lb(),o.Lb(),o.Lb(),o.Mb(6,"ion-content"),o.Mb(7,"ion-row",5),o.Mb(8,"ion-label",6),o.uc(9," Seleccione Categoria "),o.Lb(),o.Lb(),o.Mb(10,"ion-list",7),o.sc(11,r,3,1,"ion-item",8),o.Lb(),o.Lb()),2&t&&(o.ec("translucent",!0),o.yb(11),o.ec("ngForOf",i.subcategorias))},directives:[n.v,n.fb,n.i,n.e,n.f,n.h,n.w,n.q,n.Q,n.G,n.H,s.j,n.B],styles:["ion-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:#121212}.tittle-categorias[_ngcontent-%COMP%]{height:30px}.tittle-categorias[_ngcontent-%COMP%]   .tittle[_ngcontent-%COMP%]{margin:auto;font-size:22px;font-family:SFUIDisplay-Regular;letter-spacing:.5px;color:#f3f2ed}.list-categorias[_ngcontent-%COMP%]{background-color:#121212}.list-categorias[_ngcontent-%COMP%]   .item-categorias[_ngcontent-%COMP%]{--background:#121212;border:none;color:#f3f2ed}.list-categorias[_ngcontent-%COMP%]   .item-categorias[_ngcontent-%COMP%]   .label-categoria[_ngcontent-%COMP%]{font-size:18px;color:#f3f2ed;font-family:SFUIDisplay-Regular;letter-spacing:.5px}"]}),t})()},j1ZV:function(t,i,e){"use strict";e.d(i,"a",(function(){return b}));var o=e("ofXK"),n=e("3Pt+"),a=e("TEn/"),c=e("fXoL"),s=e("tk/3"),r=e("Kt/9");let l=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(i){return new(i||t)},providers:[{provide:c.d,useFactory:t=>()=>t.load(),deps:[r.a],multi:!0}],imports:[[o.c,s.b,a.gb]]}),t})(),b=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(i){return new(i||t)},imports:[[o.c,n.d,l,a.gb],l]}),t})()},nFya:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var o=e("fXoL"),n=e("e8h1");let a=(()=>{class t{constructor(t){this.storage=t,this.radio1="",this.radio2="",this.valorRadio=0,this.valorRadio2=!1,this.rango1=!1,this.rango2=!1,this.rango3=!1,this.rango4=!1,this.rango5=!1,this.cadenaFiltroMarca="",this.cadenaFiltroPack="",this.ListaMarca=[],this.ListaPacks=[],this.checkMarcas=[],this.checkPacks=[]}Aplicar2(t,i){let e,o;this.ListaMarca=t,this.ListaPacks=i,""==this.cadenaFiltroPack&&(this.cadenaFiltroPack=" "),""==this.cadenaFiltroMarca&&(this.cadenaFiltroMarca=" "),null!=this.input&&(e=this.input),null!=this.categoria&&(e=this.categoria),null!=this.establecimiento&&(e=this.establecimiento),o="comprar"==this.radio1?"AND SO.estadosocio = "+this.valorRadio:" ";let n={nombrebebida:e,establecimiento:" ",tipoCompra:o,marca:this.cadenaFiltroMarca,pack:this.cadenaFiltroPack},a=this.radio1,c=this.radio2;console.log(n);let s={filtro:n,promociones:this.valorRadio2};return this.storage.set("filtrollenado",{marcas:this.ListaMarca,packs:this.ListaPacks,rangos:{rango1:this.rango1,rango2:this.rango2,rango3:this.rango3,rango4:this.rango4,rango5:this.rango5},radio:a,radioPromocion:c}),s}concatenarMarcas(t){let i=[],e="";for(let o of t)1==o.isChecked&&i.push({idmarca:o.idmarca,nombremarca:o.nombremarca});for(let o=0;o<i.length;o++){let t=i[o].idmarca;e=e.concat(1==i.length?"AND D.idmarca IN("+t+")":0==o?"AND D.idmarca IN("+t:o==i.length-1?","+t+")":","+t)}return""==e&&(e=" "),e}concatenarPacks(t){let i=[],e="";for(let o of t)1==o.isChecked&&i.push({numeropack:o.numeropack});for(let o=0;o<i.length;o++){let t=i[o].numeropack;e=e.concat(1==i.length?"AND D.numeropack IN("+t+")":0==o?"AND D.numeropack IN("+t:o==i.length-1?","+t+")":","+t)}return""==e&&(e=" "),e}concatenarEstablecimientos(t){let i=[],e="";for(let o of t)1==o.isChecked&&i.push({idsociocomercial:o.idsociocomercial,nombrecomercial:o.nombrecomercial});for(let o=0;o<i.length;o++){let t=i[o].idsociocomercial;e=e.concat(1==i.length?"AND SO.idsociocomercial IN("+t+")":0==o?"AND SO.idsociocomercial IN("+t:o==i.length-1?","+t+")":","+t)}return""==e&&(e=" "),e}}return t.\u0275fac=function(i){return new(i||t)(o.Qb(n.b))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},pEOv:function(t,i,e){"use strict";e.d(i,"a",(function(){return f}));var o=e("mrSG"),n=e("fXoL"),a=e("TEn/"),c=e("CmMg"),s=e("e8h1"),r=e("zZ42"),l=e("tyNb"),b=e("ofXK"),d=e("B7gC"),g=e("2gss");const h=function(){return{w:56,h:56}};function p(t,i){if(1&t){const t=n.Nb();n.Mb(0,"ion-item",12),n.Mb(1,"ion-col",13),n.Mb(2,"ion-row"),n.Mb(3,"app-aspect-ratio",14),n.Jb(4,"app-image-shell",15),n.Lb(),n.Lb(),n.Lb(),n.Mb(5,"ion-col"),n.Mb(6,"ion-row",16),n.Mb(7,"ion-label",17),n.uc(8),n.Lb(),n.Lb(),n.Mb(9,"ion-row",16),n.Mb(10,"p",18),n.uc(11),n.Lb(),n.Lb(),n.Mb(12,"ion-row"),n.Mb(13,"ion-label",19),n.uc(14),n.Lb(),n.Lb(),n.Mb(15,"ion-row",20),n.Mb(16,"ion-label",21),n.uc(17),n.Lb(),n.Lb(),n.Lb(),n.Mb(18,"div"),n.Mb(19,"ion-row",22),n.Mb(20,"app-aspect-ratio",14),n.Jb(21,"app-image-shell",23),n.Lb(),n.Lb(),n.Mb(22,"ion-row"),n.Mb(23,"ion-icon",24),n.Ub("click",(function(){n.mc(t);const e=i.index;return n.Xb().menos(e)})),n.Lb(),n.Mb(24,"ion-label",25),n.uc(25),n.Lb(),n.Mb(26,"ion-icon",26),n.Ub("click",(function(){n.mc(t);const e=i.index;return n.Xb().mas(e)})),n.Lb(),n.Lb(),n.Lb(),n.Lb()}if(2&t){const t=i.$implicit;n.yb(3),n.ec("ratio",n.hc(9,h)),n.yb(1),n.fc("src",t.rutaimagenbebida),n.yb(4),n.vc(t.nombremarca),n.yb(3),n.vc(t.nombrebebida),n.yb(3),n.vc(t.disponible),n.yb(3),n.wc("S/ ",t.preciobebidasocio.toFixed(2),""),n.yb(3),n.ec("ratio",n.hc(10,h)),n.yb(1),n.ec("src",t.rutafotosocio),n.yb(4),n.vc(t.cantidad)}}function m(t,i){1&t&&(n.Mb(0,"ion-label",27),n.uc(1,"En el mapa encontrar\xe1s todos los establecimientos que tienen el total de tu pedido, escoge el de tu preferencia en base al mejor precio y distancia disponible."),n.Lb())}function u(t,i){1&t&&(n.Mb(0,"ion-button",28),n.uc(1," Ok!\n"),n.Lb())}let f=(()=>{class t{constructor(t,i,e,o,n,a,c){this.modalControler=t,this.apiService=i,this.storage=e,this.platform=o,this.joyrideService=n,this.alertController=a,this.router=c,this.tourActive=0,this.buttonDisabled="false",this.mapaListaSeleccion=[],this.mapaListaNoSeleccion=[],this.idBebidas="",this.listatemporal=[],this.listaDisponibles=[],this.listaNoDisponibles=[],this.getKilometros=function(t,i,e,o){var n=function(t){return t*Math.PI/180},a=n(e-t),c=n(o-i),s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n(t))*Math.cos(n(e))*Math.sin(c/2)*Math.sin(c/2);return(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371).toFixed(1)}}ngOnInit(){}ionViewWillEnter(){if(this.calcularTotal(),1==this.esEstablecimiento)console.log(this.listaNoSeleccion),this.verificarSilasBebidasExiste();else for(let t of this.listaSeleccion)t.disponible=""}ionViewDidEnter(){this.platform.is("android")?this.validarInicioTour():this.platform.is("ios")||(console.log("nada"),this.validarInicioTour())}validarInicioTour(){this.storage.get("tour").then(t=>{null!=t||null!=t?t<2&&this.IniciarTour():this.IniciarTour()})}ionViewDidLeave(){this.joyrideService.closeTour()}IniciarTour(){this.joyrideService.startTour({steps:["firstStep"],themeColor:"#212f23",showCounter:!1,stepDefaultPosition:"top",customTexts:{next:">>",prev:"<<",done:"Ok"}})}verificarSilasBebidasExiste(){for(let t of this.listaSeleccion)t.disponible=null==this.listaNoSeleccion?"No disponible":this.listaNoSeleccion.find(i=>i.idbebida==t.idbebida)?" ":"No disponible"}verificarSiHayPromociones(){let t=!1;for(let i of this.listaSeleccion)"promocion"==i.tipo&&(t=!0);return t}calcularTotal(){var t=0;this.num_bebidas=this.listaSeleccion.length,this.storage.set("numerobebidas",this.num_bebidas),this.storage.set("listaseleccion",this.listaSeleccion),0==this.num_bebidas&&(this.buttonDisabled="true",this.storage.remove("mi_seleccion"),this.storage.remove("ind_seleccion"));for(let i of this.listaSeleccion)t+=i.cantidad*i.preciobebidasocio;this.total=t.toFixed(2),this.storage.set("mi_seleccion",this.listaSeleccion)}cerrarModal(){this.modalControler.dismiss(this.listaSeleccion)}mas(t){this.listaSeleccion[t].cantidad+=1,this.calcularTotal()}menos(t){1==this.listaSeleccion[t].cantidad?(this.listaSeleccion.splice(t,1),this.calcularTotal()):(this.listaSeleccion[t].cantidad-=1,this.calcularTotal())}agregarAlcarrito(){if(this.buttonDisabled="true",1==this.esEstablecimiento){let t=!1;for(let i of this.listaSeleccion)null==this.listaNoSeleccion?t=!1:this.listaNoSeleccion.find(t=>t.idbebida==i.idbebida&&t.idsociocomercial!=i.idsociocomercial)&&(t=!0);1==t?this.presentAlertConfirmarSobrescrituraBebidas():this.agregarListaSoloUnEstablecimiento()}else 1==this.verificarSiHayPromociones()?(this.presentAlertTienePromociones(),this.buttonDisabled="false"):this.agregarListaMapa()}agregarListaMapa(){for(let i=0;i<this.listaSeleccion.length;i++){let t=this.listaSeleccion[i].idbebida;this.idBebidas=this.idBebidas.concat(i==this.listaSeleccion.length-1?t:t+",")}let t={bebidas:this.idBebidas,cantidadBebidas:this.getCantidadBebidas(),estadoSocio:this.estadoSocio,lat:this.latitud,lng:this.longitud,km:this.km};this.getCoincidenciasEstablecimiento(t)}agregarListaSoloUnEstablecimiento(){this.listatemporal=[],this.mapaListaSeleccion=[];for(let t of this.listaSeleccion)if(null==this.listaNoSeleccion)this.listatemporal=[];else if(this.listaNoSeleccion.find(i=>i.idbebida==t.idbebida)){let i=this.listaNoSeleccion.find(i=>i.idbebida==t.idbebida);if(0==this.listatemporal.length)i.cantidad=t.cantidad,i.nombrebebida=t.nombremarca+"/ "+t.nombrebebida,this.listatemporal.push(i);else if(this.listatemporal.find(t=>t.idbebida==i.idbebida)){let e=this.listatemporal.find(t=>t.idbebida===i.idbebida);console.log(e),i.nombrebebida=t.nombremarca+"/ "+t.nombrebebida,e.cantidad+=t.cantidad}else i.cantidad=t.cantidad,i.nombrebebida=t.nombremarca+"/ "+t.nombrebebida,this.listatemporal.push(i)}if(0==this.listatemporal.length)this.presentAlertSinDisponibilidad(),this.idBebidas="",this.buttonDisabled="false";else{let t=0;console.log(this.listatemporal);for(let e of this.listatemporal)t+=e.cantidad*e.preciobebidasocio;let i=t.toFixed(2);this.mapaListaSeleccion.push({apellidossocio:this.listatemporal[0].apellidossocio,fotomarcadorgris:this.listatemporal[0].fotomarcadorgris,rutafotosocio:this.listatemporal[0].rutafotosocio,fotomarcadoramarillo:this.listatemporal[0].fotomarcadoramarillo,bebidas:this.listatemporal,count:this.listatemporal.length,hora_fin_atencion:this.listatemporal[0].hora_fin_atencion,hora_fin_delivery:this.listatemporal[0].hora_fin_delivery,hora_inicio_atencion:this.listatemporal[0].hora_inicio_atencion,hora_inicio_delivery:this.listatemporal[0].hora_inicio_delivery,tipo_delivery:this.listatemporal[0].tipo_delivery,rango_entrega:this.listatemporal[0].rango_entrega,direccionsocio:this.listatemporal[0].direccionsocio,estadosocio:this.listatemporal[0].estadosocio,idpromocion:"true",idsociocomercial:this.listatemporal[0].idsociocomercial,latitud:this.listatemporal[0].latitud,longitud:this.listatemporal[0].longitud,nombrecomercial:this.listatemporal[0].nombrecomercial,nombressocio:this.listatemporal[0].nombressocio,telefonosocio:this.listatemporal[0].telefonosocio,estado_horario_tienda:this.listatemporal[0].estado_horario_tienda,total:Number(i)}),this.irMapaSoloEstablecimiento()}}getCantidadBebidas(){var t={};return this.listaSeleccion.forEach((function(i){t[i.idbebida]=(t[i.idbebida]||0)+1})),Object.keys(t).length}getCoincidenciasEstablecimiento(t){console.log(t),this.apiService.getCoincidenciasEstablecimiento(t).then(t=>{this.listaEstablecimientos=t,console.log(this.listaEstablecimientos),null==this.listaEstablecimientos?(this.presentAlertSinResultados(),this.idBebidas="",this.buttonDisabled="false"):this.llenarListaNoSeleccionMapa()}).catch(t=>{this.listaEstablecimientos=[],console.log(t)})}llenarListaNoSeleccionMapa(){for(let t of this.listaEstablecimientos)this.apiService.getCoincidenciasBebida({establecimiento:t.idsociocomercial,bebidas:this.idBebidas}).then(i=>{let e=this.listaEstablecimientos.indexOf(t),o=t;o.bebidas=i;for(let t of o.bebidas)if(this.listaSeleccion.find(i=>i.idbebida==t.idbebida)){let i=this.listaSeleccion.find(i=>i.idbebida==t.idbebida);t.cantidad=i.cantidad,t.nombremarca=i.nombremarca}let n=0;for(let c of t.bebidas)n+=c.cantidad*c.preciobebidasocio;let a=n.toFixed(2);t.total=Number(a),this.listaEstablecimientos[e]=t}).catch(t=>{console.log(t)});this.llenarListaSeleccionMapa()}llenarListaSeleccionMapa(){for(let t of this.listaSeleccion)for(let i of this.listaEstablecimientos)t.idsociocomercial==i.idsociocomercial&&(this.mapaListaSeleccion.find(t=>t.idsociocomercial===i.idsociocomercial)?console.log("MISMO establecimiento"):this.mapaListaSeleccion.push(i));this.irMapa()}irMapa(){this.storage.set("regalo",this.regalo),this.storage.remove("num_bebidas"),this.router.navigate(["mapa"],{state:{establecimientosCoincidencia:this.listaEstablecimientos,establecimientosSeleccionados:this.mapaListaSeleccion,kilometros:this.km}}),this.modalControler.dismiss(0)}irMapaSoloEstablecimiento(){this.storage.remove("num_bebidas"),this.storage.set("regalo",this.regalo),this.router.navigate(["mapa"],{state:{establecimientosCoincidencia:this.mapaListaSeleccion,establecimientosSeleccionados:this.mapaListaSeleccion,kilometros:this.km}}),this.modalControler.dismiss(0)}presentAlertSinResultados(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Sin resultados",subHeader:"No encontramos resultados v\xe1lidos",message:"Te recomendamos seleccionar de manera individual tu bebida.",buttons:["OK"]});yield t.present()}))}presentAlertSinResultadosCercanos(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Sin resultados",subHeader:"No encontramos resultados v\xe1lidos cerca",message:"Te recomendamos seleccionar de manera individual tu bebida.",buttons:["OK"]});yield t.present()}))}presentAlertTienePromociones(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Promoci\xf3n activa",subHeader:"No se permite la compra de promociones",message:"Te recomendamos comprar las promociones en el establecimiento de origen.",buttons:["OK"]});yield t.present()}))}presentAlertSinDisponibilidad(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"No disponible",subHeader:"Bebidas no disponibles",message:"Agregue bebidas del establecimiento seleccionado",buttons:["OK"]});yield t.present()}))}presentAlertConfirmarSobrescrituraBebidas(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Actualizaci\xf3n de precios",message:"Los precios de las bebidas se actualizar\xe1n a los del establecimiento en pantalla",buttons:[{text:"No",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Boton no"),this.idBebidas="",this.buttonDisabled="false"}},{text:"Continuar",handler:()=>{this.agregarListaSoloUnEstablecimiento()}}]});yield t.present()}))}getLongitudLatitud(t){this.storage.get("longitud").then(i=>{let e=i;this.storage.get("latitud").then(i=>{this.listaEstablecimientos=this.obtenerMarcadoresPorDistancia(i,e,this.km,t),0==this.listaEstablecimientos.length?(this.presentAlertSinResultadosCercanos(),this.idBebidas="",this.buttonDisabled="false"):this.llenarListaNoSeleccionMapa()})})}obtenerMarcadoresPorDistancia(t,i,e,o){let n=[];for(var a=0;a<o.length;a++){let c=parseFloat(this.getKilometros(t,i,o[a].latitud,o[a].longitud));c<e&&(o[a].distancia=c,n.push(o[a]))}return n}}return t.\u0275fac=function(i){return new(i||t)(n.Ib(a.kb),n.Ib(c.a),n.Ib(s.b),n.Ib(a.mb),n.Ib(r.c),n.Ib(a.a),n.Ib(l.g))},t.\u0275cmp=n.Cb({type:t,selectors:[["app-modalSeleccionar"]],decls:21,vars:6,consts:[["padding",""],[1,"cabezera"],["fill","clear",1,"btn-salir",3,"click"],["name","close"],["lines","none",4,"ngFor","ngForOf"],["customContent",""],["doneButton",""],[1,"ion-no-border"],["joyrideStep","firstStep","expand","block","id","btn-agregar-carrito",3,"stepContent","doneTemplate","disabled","click"],["id","txt-cantidad-btn"],[1,"label-boton"],["id","txt-total"],["lines","none"],["size","4"],[3,"ratio"],["animation","spinner",1,"producto-picture",3,"src"],[2,"width","120px"],[1,"ion-label-nombreMarca"],[1,"ion-label-nombreBebida"],[1,"ion-label-nombreBebida",2,"color","red"],[2,"margin-top","10px"],[1,"ion-label-precio"],["size","2.3"],[1,"client-picture",3,"src"],["name","remove-circle-sharp",1,"btn-cantidad",3,"click"],["id","txt-numero",2,"margin-top","9px","margin-left","5px","margin-right","5px","color","#ffffff"],["name","add-circle",1,"btn-cantidad",3,"click"],[1,"label-tour"],["hidden","",1,"button-tour"]],template:function(t,i){if(1&t&&(n.Jb(0,"ion-header"),n.Mb(1,"ion-content",0),n.Mb(2,"div",1),n.Mb(3,"h3"),n.uc(4," Mi Selecci\xf3n"),n.Lb(),n.Mb(5,"ion-button",2),n.Ub("click",(function(){return i.cerrarModal()})),n.Jb(6,"ion-icon",3),n.Lb(),n.Lb(),n.Mb(7,"ion-list"),n.sc(8,p,27,11,"ion-item",4),n.Lb(),n.sc(9,m,2,0,"ng-template",null,5,n.tc),n.sc(11,u,2,0,"ng-template",null,6,n.tc),n.Lb(),n.Mb(13,"ion-footer",7),n.Mb(14,"ion-button",8),n.Ub("click",(function(){return i.agregarAlcarrito()})),n.Mb(15,"ion-label",9),n.uc(16),n.Lb(),n.Mb(17,"ion-label",10),n.uc(18," Ver en el mapa "),n.Lb(),n.Mb(19,"ion-label",11),n.uc(20),n.Lb(),n.Lb(),n.Lb()),2&t){const t=n.kc(10),e=n.kc(12);n.yb(8),n.ec("ngForOf",i.listaSeleccion),n.yb(6),n.fc("disabled",i.buttonDisabled),n.ec("stepContent",t)("doneTemplate",e),n.yb(2),n.vc(i.num_bebidas),n.yb(4),n.wc(" S/ ",i.total,"")}},directives:[a.v,a.q,a.h,a.w,a.H,b.j,a.t,r.a,a.G,a.B,a.p,a.Q,d.a,g.a],styles:["ion-content[_ngcontent-%COMP%]{--background:#17191c;position:0}.cabezera[_ngcontent-%COMP%]{align-items:center;align-content:center;text-align:center}.cabezera[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;color:#f3f2ed;letter-spacing:.25px;font-family:SFCompactText-Medium}.cabezera[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:SFUIDisplay-Regular;color:#f3f2ed;font-size:16px}.btn-salir[_ngcontent-%COMP%]{position:absolute;right:3px;top:0}.btn-salir[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#f3f2ed;height:28px;width:28px}ion-list[_ngcontent-%COMP%]{background:#17191c}ion-footer[_ngcontent-%COMP%]{background:#17191c!important}ion-item[_ngcontent-%COMP%]{--background:#17191c;padding-bottom:20px;padding-top:20px;border:none;border-bottom:1px solid #919291}ion-col[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{border:none;--border:none}.producto-picture[_ngcontent-%COMP%]{border-radius:10px;height:100px;width:100px}.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:18px;color:#f3f2ed;letter-spacing:.25px;font-family:SFCompactText-Medium}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:12px;color:#f3f2ed;letter-spacing:.25px;font-family:SFUIDisplay-Regular}.ion-label-precio[_ngcontent-%COMP%]{font-size:18px;color:#f3f2ed;font-family:SFCompactText-Medium}.btn-cantidad[_ngcontent-%COMP%]{color:#108b3c;font-weight:bolder;font-size:28px}ion-footer[_ngcontent-%COMP%]{--background:#302f2f;background:#302f2f}#btn-agregar-carrito[_ngcontent-%COMP%]{--background:#108b3c;margin-bottom:20px;--border-radius:20px;margin-left:30px;margin-right:30px;color:#f3f2ed;text-transform:none;height:50px}#txt-cantidad-btn[_ngcontent-%COMP%]{background:#f3f2ed;color:#333;border:1px solid #000;padding:5px 10px;border-radius:10px;margin-right:20px;margin-left:0}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%]{font-size:18px;font-weight:bolder;font-family:SFCompactText-Medium}#txt-total[_ngcontent-%COMP%]{color:#000;margin-left:20px}.label-boton[_ngcontent-%COMP%]{color:#f3f2ed;font-size:18px}.label-boton[_ngcontent-%COMP%], .label-tour[_ngcontent-%COMP%]{font-family:SFCompactText-Medium}.label-tour[_ngcontent-%COMP%]{color:#108b3c;letter-spacing:.25px}.button-tour[_ngcontent-%COMP%]{--background:#108b3c;text-transform:none;--border-radius:10px}","@media screen and (device-width:360px) and (device-height:640px) and (-webkit-device-pixel-ratio:4) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:18px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:12px}.ion-label-precio[_ngcontent-%COMP%]{font-size:18px}.btn-cantidad[_ngcontent-%COMP%]{font-size:28px}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:18px}}@media screen and (device-width:360px) and (device-height:640px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:16px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:10px}.ion-label-precio[_ngcontent-%COMP%]{font-size:16px}.btn-cantidad[_ngcontent-%COMP%]{font-size:25px}#txt-cantidad-btn[_ngcontent-%COMP%]{font-size:16px}#txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:15px}}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:16px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:10px}.ion-label-precio[_ngcontent-%COMP%]{font-size:16px}.btn-cantidad[_ngcontent-%COMP%]{font-size:25px}#txt-cantidad-btn[_ngcontent-%COMP%]{font-size:16px}#txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:15px}}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:1) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:16px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:10px}.ion-label-precio[_ngcontent-%COMP%]{font-size:16px}.btn-cantidad[_ngcontent-%COMP%]{font-size:25px}#txt-cantidad-btn[_ngcontent-%COMP%]{font-size:16px}#txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:15px}}@media screen and (device-width:320px) and (device-height:533px) and (-webkit-device-pixel-ratio:1) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:16px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:10px}.ion-label-precio[_ngcontent-%COMP%]{font-size:16px}.btn-cantidad[_ngcontent-%COMP%]{font-size:25px}#txt-cantidad-btn[_ngcontent-%COMP%]{font-size:16px}#txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:15px}}@media only screen and (min-device-width:320px) and (max-device-width:480px) and (-webkit-min-device-pixel-ratio:2) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:14px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:9px}.ion-label-precio[_ngcontent-%COMP%]{font-size:14px}.btn-cantidad[_ngcontent-%COMP%]{font-size:23px}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:14px}}@media only screen and (min-device-width:320px) and (max-device-width:568px) and (-webkit-min-device-pixel-ratio:2) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:16px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:10px}.ion-label-precio[_ngcontent-%COMP%]{font-size:16px}.btn-cantidad[_ngcontent-%COMP%]{font-size:25px}#txt-cantidad-btn[_ngcontent-%COMP%]{font-size:16px}#txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:15px}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:17px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:11px}.ion-label-precio[_ngcontent-%COMP%]{font-size:17px}.btn-cantidad[_ngcontent-%COMP%]{font-size:26px}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:17px}}@media only screen and (min-device-width:414px) and (max-device-width:736px) and (-webkit-min-device-pixel-ratio:3) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:17px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:11px}.ion-label-precio[_ngcontent-%COMP%]{font-size:17px}.btn-cantidad[_ngcontent-%COMP%]{font-size:26px}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:17px}}@media only screen and (min-device-width:375px) and (max-device-width:812px) and (-webkit-min-device-pixel-ratio:3) and (orientation:portrait){.ion-label-nombreMarca[_ngcontent-%COMP%]{font-size:18px}.ion-label-nombreBebida[_ngcontent-%COMP%]{font-size:12px}.ion-label-precio[_ngcontent-%COMP%]{font-size:18px}.btn-cantidad[_ngcontent-%COMP%]{font-size:28px}#txt-cantidad-btn[_ngcontent-%COMP%], #txt-total[_ngcontent-%COMP%], .label-boton[_ngcontent-%COMP%]{font-size:18px}}","app-image-shell.producto-picture[_ngcontent-%COMP%]{--image-shell-border-radius:10px;background-color:#fff}app-image-shell.client-picture[_ngcontent-%COMP%], app-image-shell.producto-picture[_ngcontent-%COMP%]{--image-shell-loading-background:transparent;--image-shell-spinner-color:var(--ion-color-dark-shade)}app-image-shell.client-picture[_ngcontent-%COMP%]{--image-shell-border-radius:50%}"]}),t})()}}]);